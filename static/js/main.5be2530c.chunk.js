(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{21:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var r,a,i,c,s,d,o,u,l,f,p,j,b,g=n(0),h=n.n(g),O=n(9),x=n.n(O),m=n(13),v=n(3),y=n(4),L=n(2),w=function(e,t){var n=t.substr(1),r=t.charAt(0);return Object(L.a)(Object(L.a)({},e),{},{stringLoaded:!0,stringItem:{filledString:"",leftedString:n,currentLetter:{isMistake:!1,value:r}}})},S=function(e,t){var n=e.stringItem,r=n.filledString,a=n.leftedString,i=n.currentLetter,c=1===t.length,s=i.value===t,d=0===e.amountEnteredLetter;switch(c){case!1:return e;case!0:switch(s){case!0:var o=a.charAt(0),u=a.substr(1),l=r+t,f=Object(L.a)(Object(L.a)({},e),{},{stringItem:{filledString:l,leftedString:u,currentLetter:{isMistake:!1,value:o}},amountEnteredLetter:e.amountEnteredLetter+1});switch(d){case!0:return Object(L.a)(Object(L.a)({},f),{},{time:Date.now(),timeStarted:!0});case!1:return f}case!1:var p=Object(L.a)(Object(L.a)({},e),{},{stringItem:Object(L.a)(Object(L.a)({},e.stringItem),{},{currentLetter:Object(L.a)(Object(L.a)({},e.stringItem.currentLetter),{},{isMistake:!0})}),amountEnteredLetter:e.amountEnteredLetter+1});switch(d){case!0:return Object(L.a)(Object(L.a)({},p),{},{time:Date.now(),timeStarted:!0});case!1:return p}default:return e}}},k=function(e,t){var n=Date.now(),r=Math.round((n-t)/1e3);return Object(L.a)(Object(L.a)({},e),{},{time:r})},I={timeStarted:!1,stringLoaded:!1,stringItem:{filledString:"",leftedString:"",currentLetter:{value:"",isMistake:!1}},amountEnteredLetter:0,time:0},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"dataLoaded":var n=t.payload;return w(e,n);case"keyClicked":var r=t.payload;return S(e,r);case"timeUpdate":var a=t.payload;return k(e,a);default:return e}},C=h.a.createContext(void 0),M=function(){var e=Object(g.useContext)(C);if(void 0===e)throw new Error("Using AppContext outside of AppContext.Provider!");return e},A=n(1),D=y.a.div(r||(r=Object(v.a)(["\n  display: grid;\n"]))),F=y.a.div(a||(a=Object(v.a)(["\n  font-family: sans-serif;\n  font-size: 14px;\n  line-height: 36px;\n  letter-spacing: 0.8px;\n  color: #b5bbc2;\n"]))),z=y.a.div(i||(i=Object(v.a)(["\n  display: flex;\n  justify-content: flex-end;\n"]))),P=Object(y.a)(F)(c||(c=Object(v.a)(["\n  text-align: center;\n"]))),U=Object(y.a)(F)(s||(s=Object(v.a)(["\n  font-size: 30px;\n  color: rgb(85, 197, 255);\n"]))),B=Object(y.a)(F)(d||(d=Object(v.a)(["\n  font-size: 18px;\n  color: rgb(85, 197, 255);\n  flex-wrap: nowrap;\n  letter-spacing: -1.5px;\n  padding-left: 2px;\n  line-height: 46px;\n"]))),J=function(e){return Object(A.jsxs)(D,{children:[Object(A.jsx)(P,{children:e.name.toUpperCase()}),Object(A.jsxs)(z,{children:[Object(A.jsx)(U,{children:e.value}),Object(A.jsx)(B,{children:e.measure})]})]})},T=y.a.div(o||(o=Object(v.a)(["\n  display: grid;\n  width: 124px;\n  height: 240px;\n  padding: 30px 45px 30px 0;\n"]))),N=function(){var e=M(),t=e.state,n=(e.dispatch,t.stringItem),r=t.amountEnteredLetter,a=t.time,i=R(n,a),c=q(n,r);return Object(A.jsxs)(T,{children:[Object(A.jsx)(J,{name:"\u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c",value:i,measure:"\u0437\u043d./\u043c\u0438\u043d"}),Object(A.jsx)(J,{name:"\u0442\u043e\u0447\u043d\u043e\u0441\u0442\u044c",value:c,measure:"%"})]})},R=function(e,t){var n=e.filledString;return Math.round(60*n.length/t)||0},q=function(e,t){var n=e.filledString,r=e.leftedString,a=Number((100/(n+r).length).toFixed(1));return 100-(t-n.length)*a},G=y.a.div(u||(u=Object(v.a)(["\n  width: 780px;\n  padding: 30px 45px;\n  font-family: sans-serif;\n  font-size: 24px;\n  line-height: 36px;\n  letter-spacing: 0.8px;\n"]))),H=y.a.span(l||(l=Object(v.a)(["\n  color: #3855c5;\n"]))),K=y.a.span(f||(f=Object(v.a)(["\n  color: #808080;\n"]))),Q=y.a.span(p||(p=Object(v.a)(["\n  color: #ffffff;\n  padding: 1px;\n  background-color: ",";\n  border: ",";\n\n  border-radius: 3px;\n"])),(function(e){switch(e.isMistaken){case!0:return"red";case!1:return"#3855c5";default:return"none"}}),(function(e){switch(e.isMistaken){case!0:return"1px solid red;";case!1:return"1px solid #3855c5;";default:return"none"}})),V=function(){var e=M(),t=e.state;e.dispatch;return Object(A.jsxs)(G,{children:[Object(A.jsx)(H,{children:t.stringItem.filledString}),Object(A.jsx)(Q,{isMistaken:t.stringItem.currentLetter.isMistake,children:t.stringItem.currentLetter.value}),Object(A.jsx)(K,{id:"leftedString",children:t.stringItem.leftedString})]})},W=(n(21),y.a.div(j||(j=Object(v.a)(["\n  display: flex;\n  position: relative;\n"])))),X=y.a.div(b||(b=Object(v.a)(["\n  display: flex;\n  align-items: stretch;\n  margin: 150px auto 0 auto;\n\n  border-radius: 14px;\n  background-color: white;\n"]))),Y=function(){var e=Object(g.useReducer)(E,I),t=Object(m.a)(e,2),n=t[0],r=t[1];Object(g.useEffect)((function(){var e=function(e){r({type:"keyClicked",payload:e.key})};return document.addEventListener("keyup",e),function(){document.removeEventListener("keyup",e)}}),[]),Object(g.useEffect)((function(){fetch("https://baconipsum.com/api/?callback=?type=all-meat&paras=1&format=text&t=".concat(new Date),{mode:"cors",headers:{"Access-Control-Allow-Origin":"*"}}).then((function(e){return e.text()})).then((function(e){r({type:"dataLoaded",payload:e})}),(function(e){console.log(e)}))}),[]),Object(g.useEffect)((function(){var e=setInterval((function(){n.timeStarted&&r({type:"timeUpdate",payload:n.time})}),1e3);return function(){clearInterval(e)}}),[n.timeStarted]);return Object(A.jsx)(C.Provider,{value:{state:n,dispatch:r},children:Object(A.jsx)(W,{id:"container",children:function(){switch(n.stringLoaded){case!1:return null;case!0:return Object(A.jsxs)(X,{children:[Object(A.jsx)(V,{}),Object(A.jsx)(N,{})]})}}()})})},Z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,23)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),i(e),c(e)}))};x.a.render(Object(A.jsx)(h.a.StrictMode,{children:Object(A.jsx)(Y,{})}),document.getElementById("root")),Z()}},[[22,1,2]]]);
//# sourceMappingURL=main.5be2530c.chunk.js.map